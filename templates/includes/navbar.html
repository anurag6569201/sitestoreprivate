{% load static %}
<!-- Header / Navbar -->
<header>
  <nav class="navbar" style="flex-wrap:nowrap">
    <div class="nav-section nav-left">
      <button class="nav-button menu-button">
        <i class="uil uil-bars"></i>
      </button>
      <a href="{% url 'home:home' %}" class="nav-logo">
        <img src="../../static/assets/img/home/logo.png" alt="Logo" class="logo-image" style="width: 190px;">
      </a>
    </div>
    
    <div class="nav-section nav-center">
      {% if '/video/' in request.path %}
        <form action="{% url 'home:home' %}" method="get" class="search-form">
          <input type="search" name="query" placeholder="Search" class="search-input" required>
          <button type="submit" class="nav-button search-button">
            <i class="uil uil-search"></i>
          </button>
        </form>
      {% else %}
        <form action="{% url 'home:home' %}" method="get" class="search-form">
          <input type="search" name="query" placeholder="Search" class="search-input" required>
          <button type="submit" class="nav-button search-button">
            <i class="uil uil-search"></i>
          </button>
        </form>
      {% endif %}
    </div>

    <div class="nav-section nav-right">
      <button class="nav-button search-button search_bar">
        <i class="uil uil-search"></i>
      </button>
      <button class="nav-button theme-button">
        <i class="uil uil-moon"></i>
      </button>
    </div>
  </nav>
</header>


<nav class="navbar smaller_device_search_navbar" style="justify-content: center;" id="searchNavbar">
  <div class="nav-section smaller_device_search">
    {% if '/video/' in request.path %}
      <form action="{% url 'home:home' %}" method="get" class="search-form">
        <input type="search" name="query" placeholder="Search" class="search-input" required>
        <button type="submit" class="nav-button search-button">
          <i class="uil uil-search"></i>
        </button>
      </form>
    {% else %}
      <form action="{% url 'home:home' %}" method="get" class="search-form">
        <input type="search" name="query" placeholder="Search" class="search-input" required>
        <button type="submit" class="nav-button search-button">
          <i class="uil uil-search"></i>
        </button>
      </form>
    {% endif %}
  </div>
</nav>

<script>
    const searchButton = document.querySelector('.search_bar');
    const searchNavbar = document.getElementById('searchNavbar');

    searchButton.addEventListener('click', () => {
        searchNavbar.classList.toggle('active'); // Toggle visibility
    });

    // Optional: Hide the search navbar when clicking outside of it
    document.addEventListener('click', (e) => {
        if (!searchNavbar.contains(e.target) && !searchButton.contains(e.target)) {
            searchNavbar.classList.remove('active');
        }
    });
</script>